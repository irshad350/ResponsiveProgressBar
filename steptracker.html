<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="input/languages.js"></script>    
</head>
<body style="background-color: #ebebe0;"></body>

<script type="text/javascript">
    var languageRefreshTimeOut = 15000; // 15 secs
    var pageRefreshTimeOut = languages.length * languageRefreshTimeOut;

    function initPage() {
        var config = {
            "total_steps": totalSteps,
            "current_step": currentStep,
            "frame_wdith": 1200,
            "frame_height": 550,
            "line_color": "#000000",
            "default_step_color":"#8585ad",
            "last_step_color": "#e6e600",
            "passed_step_color": "#218709",
            "text-color":"#050C64"
        };
        init(config); 
    }

    function loadJS(language) {
            document.body.innerHTML = '';
            var jsElm1 = document.createElement("script");
            jsElm1.type = "text/javascript";
            jsElm1.src = "input/" + language + "/steps_list.js";
            document.body.appendChild(jsElm1);

            var jsElm2 = document.createElement("script");
            jsElm2.type = "text/javascript";
            jsElm2.src = "input/" + language + "/current_step.js";
            document.body.appendChild(jsElm2);

            var jsElm3 = document.createElement("script");
            jsElm3.type = "text/javascript";
            jsElm3.src = "resources/multi_step_responsive_progressbar.js";
            document.body.appendChild(jsElm3);

            setTimeout(function() {
                initPage();
            }, (50));// timeout added to load script files

    }

    var i = 1;
    function loadBody() {
        var timeOut = languageRefreshTimeOut;
        if (i === 1) {
            timeOut = 0;
        }
        setTimeout(function() {
            loadJS(languages[i-1]);  
            i++;
            if (i <= languages.length) {
                loadBody();
            }
              
        }, timeOut);// change language every 10 secs
    }

    
    loadBody();

    

    setTimeout(function(){
        window.location.reload(1);
    }, pageRefreshTimeOut);// refresh page every 1 mint
    
</script>
</html>
